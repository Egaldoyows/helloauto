<!DOCTYPE html>
{% extends 'base.html' %}
{% load static %}
{% load humanize %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
<link rel="stylesheet" href="{% static 'custom.css'%}">

{% block content %}
        
   

<style>
  .vch{
    padding-top: 2rem;
    padding-bottom: 2rem;
    border-style: dashed;
    
  }
  .hght{
    margin-bottom: 8rem;
    
  }
  .printed{
    padding-top: 3rem;
    font-style: italic;
    color: #3e8e41;
  }
  
</style>



{% if voucher %}
{% for item in voucher %}

<div class="row ">
    <div class="col-sm-1"></div>
    <div class="col-sm-8 ">





    

    
<html lang="en">
  


     <div class="container mt-4 p-5 vch" id="pv">

        <div class="row">
            <div class="col"><img src="{% static 'media/apex.jpg'%}" alt="" class="img-fluid"></div>
            <div id="vch" class="col"><H3>PAYMENT VOUCHER</H3></div>
            <div class="col" style="font-style: italic;" > <strong> Posted:</strong> {{item.date_created}}</div>
          </div>
          
          
          

          <div class="row">
            <div class="col">
              
                <table class=" table table-bordered" >
                    <th>Currency</th>
                    <th>{{item.currency}}</th>
                    
                </table>
            </div>
            <div class="col"></div>
            <div class="col">

              
              
                
              
                


                <table class="table table-bordered">
                    <th>Paid on</th>
                    <th>Mode</th>
                    <tr>
                        <td>{{item.payment_date}}</td>
                        <td>{{item.payment_mode}}</td>
                    </tr>

                </table>
                
              
                  
                {% endfor %}
                  

            </div>
          </div>

          <!-- Currency and account div-->
          <div class="row">
            <div class="col">
              
              
                <table class=" table table-bordered">
                  
                  
                    <th>Bank Account</th>
                    <th>select acc</th>

                    
                    
                </table>
            </div>
            <div class="col"></div>
            <div class="col"></div>
          </div>


          
          
          
        
            
          
            
            {% for item in voucher %}
              
            
              


          <ul class="list-group">
            <li class="list-group-item"><h5>PAYMENT MADE TO: <strong> {{item.receipient}}</strong></h5></li>
            <li class="list-group-item"><H5>RECIPEINT ACCOUNT NO. : {{item.account}}</H5></li>
            
          </ul>
          {% endfor %}

          

          
            

          


    
          

    

    <div class="row">
        <div class="col-sm-1"></div>
        <div class="col-sm-10">

            <table class="table table-striped table-bordered hght">
                <th>Description</th>
                <th>project</th>
                <th>invoice No.</th>
                <th>amount</th>

                {% for data in voucher %}
        
                <tr>
                    <td>{{data.desc1}}</td>
                    <td>{{data.project}}</td>
                    <td>{{data.invoice_no}}</td>
                    <td>{{data.amount1|intcomma}}</td>
                </tr>
                
                {% if data.desc2%}
                  
                <tr>
                    <td>{{data.desc2}}</td>
                    <td>{{data.project}}</td>
                    <td>{{data.invoice_no}}</td>
                    <td>{{data.amount2|intcomma}}</td>
                </tr>
                {% endif %}

                {% if data.desc3%}
                <tr>
                  <td>{{data.desc3}}</td>
                  <td>{{data.project}}</td>
                  <td>{{data.invoice_no}}</td>
                  <td>{{data.amount3|intcomma}}</td>
              </tr>
              {% endif %}
              
                
                <tr>
                  <td></td>
                  <td></td>
                  <td> <strong>Total</strong> </td>
                  <td> <strong>{{data.total|intcomma}}</strong></td>
              </tr>
              
            </table>

            









        </div>
        <div class="col-sm-1"></div>
      </div>

      <hr>

     


      <div class="row">
        <div class="col-sm-2"></div>
        <div class="col-sm-4">
            <ul class="list-group">
                <li class="list-group-item"><p>Prepared By: {{data.prepared}}</p></li>
                <li class="list-group-item"><p>Signature:</p></li>
                
                
              </ul>
        </div>
        
        
        <div class="col-sm-4">

            <ul class="list-group">
                <li class="list-group-item"><p>Approved By: {{data.approved}}</p></li>
                <li class="list-group-item"><p id="teest">Signature:</p></li>
                
                
              </ul>
              {% endfor %}

              {% else %}
            <p>fatal! Could not retrieve voucher data</p>
            
            {% endif %}
            
        </div>
        <div class="col-sm-2"></div>
      </div>
      <p id="print" class="printed"></p>

    </div>

    
      
      



</div>
<div class="col-sm-1"><button id="btn-print" class="btn btn-primary" onclick="generatePDF()">Download</button></div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
<script src="https://raw.githack.com/eKoopmans/html2pdf/master/dist/html2pdf.bundle.js"></script>
     <script  src="{% static 'custom.js' %}"></script>



  

   
     {% endblock content %}